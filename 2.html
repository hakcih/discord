<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Crédits — Turko</title>
<style>
  :root{
    --bg1:#071029;
    --bg2:#0b2546;
    --card:rgba(255,255,255,0.03);
    --accent:#ffd27a;
    --text:#eaf4ff;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text);display:flex;align-items:center;justify-content:center}
  .stage{
    width:min(920px,94vw);
    height:min(640px,86vh);
    border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);
    box-shadow:0 20px 60px rgba(0,0,0,0.6);
    overflow:hidden;
    position:relative;
    padding:24px;
  }

  .viewport{
    position:absolute;
    inset:24px;
    overflow:hidden;
  }

  .column{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:18px;
    will-change:transform;
  }

  .line{
    width:100%;
    text-align:center;
    font-weight:800;
    letter-spacing:0.4px;
    font-size:1.05rem;
    color:var(--text);
  }

  .phrase{
    font-size:1.6rem;
    color:var(--accent);
    font-weight:900;
  }

  .name{
    font-size:1.1rem;
    color:#bfe6ff;
    font-weight:800;
  }

  .final{
    margin-top:18px;
    font-size:2.4rem;
    color:var(--accent);
    font-weight:900;
    text-transform:uppercase;
    letter-spacing:1.4px;
  }

  .controls{
    position:absolute;
    left:24px;
    bottom:18px;
    display:flex;
    gap:8px;
    align-items:center;
  }

  .btn{
    padding:8px 12px;border-radius:8px;border:none;background:linear-gradient(90deg,#00c6ff,#0072ff);color:#001;font-weight:700;cursor:pointer;
  }
  .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#bfe6ff}

  @media (prefers-reduced-motion: reduce){
    .column{animation:none !important}
  }

  @media(max-width:520px){
    .phrase{font-size:1.2rem}
    .final{font-size:1.6rem}
  }
</style>
</head>
<body>
  <div class="stage" role="region" aria-label="Crédits">
    <div class="viewport" id="viewport" aria-hidden="false">
      <div id="blockA" class="column" aria-hidden="false"></div>
      <div id="blockB" class="column" aria-hidden="true"></div>
    </div>

    <div class="controls" aria-hidden="false">
      <button id="pauseBtn" class="btn secondary" aria-pressed="false">Pause</button>
      <button id="fasterBtn" class="btn" title="Accélérer">+</button>
      <button id="slowerBtn" class="btn" title="Ralentir">−</button>
    </div>
  </div>

  <!-- Modal (info/help) -->
  <div id="modalBackdrop" style="position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:9999" role="dialog" aria-modal="true" aria-hidden="true">
    <div style="width:min(520px,92vw);background:linear-gradient(180deg,#07172a,#0b2546);border-radius:12px;padding:20px;border:1px solid rgba(255,255,255,0.06);box-shadow:0 30px 80px rgba(0,0,0,0.7);color:var(--text)">
      <h2 style="margin-bottom:8px;color:#bfe6ff;font-size:1.05rem">Contrôles</h2>
      <p style="margin-bottom:16px;color:rgba(255,255,255,0.9)">Espace pour pause/reprise, flèches haut/bas pour ajuster la vitesse. Utilise les boutons en bas pour contrôler manuellement.</p>
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button id="modalClose" style="padding:8px 12px;border-radius:8px;border:none;background:linear-gradient(90deg,#ff9a76,#ff6b6b);color:#001;font-weight:700;cursor:pointer">Fermer</button>
      </div>
    </div>
  </div>

<script>
  // Texte principal
  const phrase = "javais pas didée jai fait un truc aleatoir donnez moi des idee svp";

  // Contenu réutilisable
  const contentLines = [
    {type:'phrase', text: phrase},
    {type:'name', text: 'turko'},
    {type:'line', text: 'un peu de code'},
    {type:'line', text: 'quelques beats'},
    {type:'line', text: 'des essais aléatoires'},
    {type:'line', text: "merci d'avoir regardé"},
    {type:'final', text: 'SAYER JARRETE'}
  ];

  const blockA = document.getElementById('blockA');
  const blockB = document.getElementById('blockB');

  function buildBlock(target){
    target.innerHTML = '';
    const spacerTop = document.createElement('div');
    spacerTop.style.height = '40vh';
    target.appendChild(spacerTop);

    for(let r=0; r<6; r++){
      contentLines.forEach(item => {
        const el = document.createElement('div');
        el.className = 'line';
        if(item.type === 'phrase'){ el.classList.add('phrase'); el.textContent = item.text; }
        else if(item.type === 'name'){ el.classList.add('name'); el.textContent = item.text; }
        else if(item.type === 'final'){ el.classList.add('final'); el.textContent = item.text; }
        else { el.textContent = item.text; }
        target.appendChild(el);
      });
    }

    const spacerBottom = document.createElement('div');
    spacerBottom.style.height = '40vh';
    target.appendChild(spacerBottom);
  }

  buildBlock(blockA);
  buildBlock(blockB);

  // Animation dynamique
  let speed = 1; // 1 = normal
  let paused = false;
  function applyAnimation(){
    const h = blockA.getBoundingClientRect().height;
    const baseSeconds = Math.max(8, h / 120);
    const duration = baseSeconds / speed;
    const animName = 'scrollAnim';

    const styleId = 'scrollStyle';
    let styleEl = document.getElementById(styleId);
    if(styleEl) styleEl.remove();

    styleEl = document.createElement('style');
    styleEl.id = styleId;
    styleEl.textContent = `
      @keyframes ${animName} {
        0% { transform: translateY(0); }
        100% { transform: translateY(-${h}px); }
      }
    `;
    document.head.appendChild(styleEl);

    const anim = `${animName} ${duration}s linear infinite`;
    blockA.style.animation = anim;
    blockB.style.animation = anim;
    blockB.style.transform = 'translateY(' + h + 'px)';
    blockA.style.animationPlayState = paused ? 'paused' : 'running';
    blockB.style.animationPlayState = paused ? 'paused' : 'running';
  }

  applyAnimation();

  // Controls
  const pauseBtn = document.getElementById('pauseBtn');
  const fasterBtn = document.getElementById('fasterBtn');
  const slowerBtn = document.getElementById('slowerBtn');

  pauseBtn.addEventListener('click', () => {
    paused = !paused;
    pauseBtn.textContent = paused ? 'Reprendre' : 'Pause';
    pauseBtn.setAttribute('aria-pressed', String(paused));
    blockA.style.animationPlayState = paused ? 'paused' : 'running';
    blockB.style.animationPlayState = paused ? 'paused' : 'running';
  });

  fasterBtn.addEventListener('click', () => { speed = Math.min(4, speed + 0.25); applyAnimation(); });
  slowerBtn.addEventListener('click', () => { speed = Math.max(0.25, speed - 0.25); applyAnimation(); });

  // Keyboard shortcuts: Space = pause, ArrowUp = faster, ArrowDown = slower, ? = open help
  document.addEventListener('keydown', (e) => {
    if(e.key === ' '){
      e.preventDefault();
      paused = !paused;
      pauseBtn.textContent = paused ? 'Reprendre' : 'Pause';
      pauseBtn.setAttribute('aria-pressed', String(paused));
      blockA.style.animationPlayState = paused ? 'paused' : 'running';
      blockB.style.animationPlayState = paused ? 'paused' : 'running';
    } else if(e.key === 'ArrowUp'){
      speed = Math.min(4, speed + 0.25);
      applyAnimation();
    } else if(e.key === 'ArrowDown'){
      speed = Math.max(0.25, speed - 0.25);
      applyAnimation();
    } else if(e.key === '?'){
      openModal();
    }
  });

  // Modal logic (help)
  const modalBackdrop = document.getElementById('modalBackdrop');
  const modalClose = document.getElementById('modalClose');

  function openModal(){
    modalBackdrop.style.display = 'flex';
    modalBackdrop.setAttribute('aria-hidden','false');
    modalClose.focus();
  }
  function closeModal(){
    modalBackdrop.style.display = 'none';
    modalBackdrop.setAttribute('aria-hidden','true');
  }
  modalClose.addEventListener('click', closeModal);
  modalBackdrop.addEventListener('click', (e) => { if(e.target === modalBackdrop) closeModal(); });
  document.addEventListener('keydown', (e) => { if(e.key === 'Escape' && modalBackdrop.style.display === 'flex') closeModal(); });

  // Recalculate animation on resize
  window.addEventListener('resize', () => applyAnimation());
</script>
</body>
</html>
